{"ts":1351008380250,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"dojo.require(\"esri.map\");\r\ndojo.require(\"esri.arcgis.utils\");\r\n\r\nvar _maps = [];\r\n\r\nvar initAGOL = function(){\r\n\tcreateMaps();\r\n};\r\n\r\nvar createMaps = function(){\r\n  dojo.forEach(_configOptions.webmaps,function(webmap,i){\r\n\tdojo.place(\"<div id='map\"+i+\"' class='map'></div>\",dojo.byId('mapPane'),\"last\");\r\n        \r\n    var mapDeferred = esri.arcgis.utils.createMap(webmap.id, \"map\"+i, {\r\n\t  mapOptions: {\r\n        slider: true,\r\n        nav:false\r\n      }\r\n    });\r\n    mapDeferred.then(function(response) {\r\n\t  if(i === 0){\r\n\t    _configOptions.title = _configOptions.title || response.itemInfo.item.title;\r\n        _configOptions.subtitle = _configOptions.subtitle || response.itemInfo.item.snippet;\r\n\t\t_configOptions.description = _configOptions.description || response.itemInfo.item.description;\r\n\t\t\r\n\t\tsetUpBanner();\r\n\t  }\r\n          \r\n      var map = response.map;\r\n\t  _maps.push(map);\r\n    \r\n      //add the legend\r\n      var layers = response.itemInfo.itemData.operationalLayers;   \r\n      if(map.loaded){\r\n        //initMap(layers);\r\n      }\r\n      else{\r\n      dojo.connect(map,\"onLoad\",function(){\r\n        //initMap(layers);\r\n      });\r\n    }\r\n    },function(error){\r\n      console.log(\"Map creation failed: \", dojo.toJson(error));        \r\n    });\r\n\r\n  });\r\n  \r\n};\r\n\r\ndojo.addOnLoad(initAGOL);"]],"start1":0,"start2":0,"length1":0,"length2":1307}]],"length":1307}
{"contributors":[],"silentsave":true,"ts":1351012550669,"patch":[[{"diffs":[[0,"tils\");\r"],[1,"\ndojo.require(\"dijit.dijit\");\r"],[0,"\n\r\nvar _"]],"start1":54,"start2":54,"length1":16,"length2":46},{"diffs":[[0,"push(map);\r\n"],[1,"      \r\n"],[0,"    \r\n      "]],"start1":912,"start2":912,"length1":24,"length2":32}]],"length":1345,"saved":false}
{"ts":1351012554729,"patch":[[{"diffs":[[0,"(map);\r\n"],[-1,"      \r\n"],[0,"    \r\n  "]],"start1":916,"start2":916,"length1":24,"length2":16}]],"length":1337,"saved":false}
{"ts":1351012562893,"patch":[[{"diffs":[[0,"p(layers);\r\n"],[1,"        \r\n"],[0,"      }\r\n   "]],"start1":1062,"start2":1062,"length1":24,"length2":34}]],"length":1347,"saved":false}
{"ts":1351012574190,"patch":[[{"diffs":[[0,"yers);\r\n        "],[1,"re"],[0,"\r\n      }\r\n     "]],"start1":1066,"start2":1066,"length1":32,"length2":34}]],"length":1349,"saved":false}
{"ts":1351012578358,"patch":[[{"diffs":[[0,"      re"],[1,"s"],[0,"\r\n      "]],"start1":1076,"start2":1076,"length1":16,"length2":17}]],"length":1350,"saved":false}
{"ts":1351012580182,"patch":[[{"diffs":[[0,"     res"],[1,"etLayout()"],[0,"\r\n      "]],"start1":1077,"start2":1077,"length1":16,"length2":26}]],"length":1360,"saved":false}
{"ts":1351012580664,"patch":[[{"diffs":[[0,"ast\");\r\n"],[-1,"        "],[0,"\r\n"],[1,""],[0,"    var "]],"start1":328,"start2":328,"length1":26,"length2":18},{"diffs":[[0,"n;\r\n"],[-1,"\t\t"],[0,"\r\n"],[1,""],[0,"\t\tse"]],"start1":820,"start2":820,"length1":12,"length2":10},{"diffs":[[0," }\r\n"],[-1,"          "],[0,"\r\n"],[1,""],[0,"    "]],"start1":846,"start2":846,"length1":20,"length2":10},{"diffs":[[0,"(map);\r\n"],[-1,"    "],[0,"\r\n"],[1,""],[0,"      //"]],"start1":896,"start2":896,"length1":22,"length2":18},{"diffs":[[0,"lLayers;"],[-1,"   "],[0,"\r\n      "]],"start1":986,"start2":986,"length1":19,"length2":16},{"diffs":[[0,"Layout()"],[1,";"],[0,"\r\n      "]],"start1":1060,"start2":1060,"length1":16,"length2":17},{"diffs":[[0,"error));"],[-1,"        "],[0,"\r\n    })"]],"start1":1263,"start2":1263,"length1":24,"length2":16},{"diffs":[[0,"\n  });\r\n"],[-1,"  "],[0,"\r\n};\r\n\r\n"]],"start1":1283,"start2":1283,"length1":18,"length2":16}]],"length":1324,"saved":false}
{"ts":1351012585921,"patch":[[{"diffs":[[0,"p(layers);\r\n"],[1,"        resetLayout();\r\n"],[0,"      });\r\n "]],"start1":1154,"start2":1154,"length1":24,"length2":48}]],"length":1348,"saved":false}
